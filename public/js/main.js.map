{"version":3,"sources":["main.js","game.js","entity.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\n/**\n * Key codes\n */\nvar Keys = {\n  UP:     87, \n  DOWN:   83, \n  LEFT:   65, \n  RIGHT:  68\n};\n\n/**\n * Key pressed ?\n */\nvar Pressed = {\n  87: false,\n  84: false,\n  65: false,\n  68: false\n};\n\n/**\n * Sprite element\n */\nvar Sprite = $('.sprite.mine');\n\n/**\n * Sprite speed\n */\nvar Speed = 2;\n\n$(() => {\n\n  Sprite.moveTo(32, 32);\n\n  // $.ajax({\n  //   url: '/server'\n  // })\n  \n  /**\n   * Starting main game loop\n   */\n  setInterval(Game.loop, 15);\n\n  /**\n   * Registering key presses\n   */\n  $(document).keydown((e) => {\n    Pressed[e.which] = true;\n  });\n\n  $(document).keyup((e) => {\n    Pressed[e.which] = false;\n  });\n});\n","/**\n * Main class hadnling the whole game\n *\n * @author Pavel koch\n * @package Bomberman\n */\n\nclass Game {\n\n  static loop() {\n\n    Entity.move();\n\n  }\n}\n","/**\n * Handles player's entity\n *\n * @author Pavel koch\n * @package Bomberman\n */\n\nclass Entity {\n  static move() {\n\n    if(Pressed[Keys.UP]) {\n      var Position = (Sprite.position().top - Entity.Speed());\n\n      do {\n        Sprite.css('top', Position++ + 'px');\n      } while(Entity.collides());\n    }\n    \n    if(Pressed[Keys.DOWN]) {\n      var Position = (Sprite.position().top + Entity.Speed());\n\n      do {\n        Sprite.css('top', Position-- + 'px');\n      } while(Entity.collides());\n    }\n    \n    if(Pressed[Keys.LEFT]) {\n      var Position = (Sprite.position().left - Entity.Speed());\n\n      do {\n        Sprite.css('left', Position++ + 'px');\n      } while(Entity.collides());\n    }\n    \n    if(Pressed[Keys.RIGHT]) {\n      var Position = (Sprite.position().left + Entity.Speed());\n\n      do {\n        Sprite.css('left', Position-- + 'px');\n      } while(Entity.collides());\n    }\n\n    var Top = Sprite.position().top;\n    var Left = Sprite.position().left;\n\n    // conn.send();\n  }\n\n  static collides() {\n    return $('#map').has($('.sprite').collision('.wall')).length;\n  }\n\n  static Speed() {\n    return Speed;\n  }\n}\n\n/** \n * Helpers\n */\n\n$.fn.moveTo = function(top, left) {\n  \n  if(top instanceof Object) {\n\n    $(this).css({\n      top: top['top'] + 'px',\n      left: top['left'] + 'px'\n    });\n\n    return true;\n  }\n\n  $(this).css({\n    top: top + 'px',\n    left: left + 'px'\n  });\n\n  return true;\n}\n"],"sourceRoot":"/source/"}